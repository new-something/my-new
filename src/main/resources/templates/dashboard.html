<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"></head>
<body>
<!-- 앱 연결하기 -->
<div id="app-list-modal" class="popup-overlay">
    <div class="modal-popup">
        <div class="popup-header">
            <div>
                <img
                        src="/images/img-connect.png"
                        alt="connect apps"
                        width="20"
                />
                &nbsp;Apps
            </div>
            <div id="app-list-modal-close-btn" class="btn btn-close">
                <img src="/images/ico-close.svg" alt="close" width="16"/>
            </div>
        </div>
        <div class="popup-body">

            <!-- 앱 카테고리 필터 -->
            <div class="app-tag">
                <form name="appListCategoryItems" class="btn-group">
                    <input
                            id="tag-all"
                            type="radio"
                            value="ALL"
                            name="app-list-tag"
                            checked
                    />
                    <label for="tag-all">
                        All
                    </label>
                    <input
                            id="tag-production"
                            type="radio"
                            value="PRODUCTION"
                            name="app-list-tag"
                    />
                    <label for="tag-production">
                        Production
                    </label>
                    <input
                            id="tag-communication"
                            type="radio"
                            value="COMMUNICATION"
                            name="app-list-tag"
                    />
                    <label for="tag-communication">
                        Communication
                    </label>
                    <input
                            id="tag-management"
                            type="radio"
                            value="MANAGEMENT"
                            name="app-list-tag"
                    />
                    <label for="tag-management">
                        Management
                    </label>
                    <input
                            id="tag-documentation"
                            type="radio"
                            value="DOCUMENTATION"
                            name="app-list-tag"
                    />
                    <label for="tag-documentation">
                        Documentation
                    </label>
                    <input
                            id="tag-presentation"
                            type="radio"
                            value="PRESENTATION"
                            name="app-list-tag"
                    />
                    <label for="tag-presentation">
                        Presentation
                    </label>
                    <input
                            id="tag-handy-tools"
                            type="radio"
                            value="HANDY_TOOLS"
                            name="app-list-tag"
                    />
                    <label for="tag-handy-tools">
                        Handy Tools
                    </label>
                </form>
            </div>
            <div class="app-list">
                <!-- APP URL ITEM: URL Redirection 은 다른 앱과 별개의 방식으로 동작 -> 버튼을 누르면 My Shortcuts 목록에 바로 URL Redirection Item 을 추가한다. -->
                <div class="btn app-url-item" onclick="whenClickAddShortcutButton('url')">
                    <div class="app-icon">
                        <img src="/images/ico-link.svg" width="42" alt=""/>
                    </div>
                    <div class="app-name">
                        <div class="app-name-text">URL Redirection</div>
                    </div>
                </div>
                <!-- APP ITEM: 연결되지 않은 상태, 앱의 설정 페이지로 이동. -->
                <div id="asanaInAppList" class="btn app-item">
                    <div class="app-icon">
                        <img src="/images/ico-app-asana.svg" width="42" alt=""/>
                    </div>
                    <div class="app-name">
                        <div class="app-name-text">Asana</div>
                        <div class="app-status-text">Is connected</div>
                        <div class="app-status-icon">
                            <svg viewBox="0 0 32 24" width="10" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.8686 23.5286L0.46861 13.0688C-0.156203 12.4404 -0.156203 11.4215 0.46861 10.7931L2.7313 8.51731C3.35611 7.88884 4.36924 7.88884 4.99405 8.51731L12 15.5635L27.0059 0.471304C27.6308 -0.157101 28.6439 -0.157101 29.2687 0.471304L31.5314 2.74707C32.1562 3.37547 32.1562 4.39436 31.5314 5.02283L13.1314 23.5287C12.5065 24.1571 11.4934 24.1571 10.8686 23.5286Z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                <!-- APP ITEM IS CONNECTED: 연결된 상태. 각 앱의 설정 페이지로 이동. -->
                <div id="githubInAppList" class="btn app-item is-connected"
                     onclick="togglePopup('appDetailPopup', 'appListPopup')">
                    <div class="app-icon">
                        <img src="/images/ico-app-github.svg" width="42" alt=""/>
                    </div>
                    <div class="app-name">
                        <div class="app-name-text">Github</div>
                        <div class="app-status-text">Is connected</div>
                        <div class="app-status-icon">
                            <svg viewBox="0 0 32 24" width="10" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.8686 23.5286L0.46861 13.0688C-0.156203 12.4404 -0.156203 11.4215 0.46861 10.7931L2.7313 8.51731C3.35611 7.88884 4.36924 7.88884 4.99405 8.51731L12 15.5635L27.0059 0.471304C27.6308 -0.157101 28.6439 -0.157101 29.2687 0.471304L31.5314 2.74707C32.1562 3.37547 32.1562 4.39436 31.5314 5.02283L13.1314 23.5287C12.5065 24.1571 11.4934 24.1571 10.8686 23.5286Z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- IS CONNECTED 클래스 유무로 상태에 따른 화면 확인 가능 -->
<div id="app-detail-modal" class="popup-overlay">
    <div class="modal-popup">
        <div class="popup-header">
            <div class="popup-navigation">
                <div id="app-detail-modal-back-btn" class="btn btn-back">
                    <img src="/images/ico-chevron-left.svg" alt="close" height="16"/>
                </div>
                <div class="popup-title">Connect App</div>
            </div>
            <div id="app-detail-modal-close-btn" class="btn btn-close">
                <img src="/images/ico-close.svg" alt="close" width="16"/>
            </div>
        </div>
        <div class="popup-body">
            <div class="app-header">
                <div class="app-icon">
                    <img id="app-icon-in-detail-modal" src="/images/ico-app-asana.svg" width="60" alt="">
                </div>
                <div class="app-information">
                    <div class="app-name">
                        <h2 id="app-name-in-detail-modal" class="app-name-text">Asana</h2>
                        <div class="app-status-icon">
                            <svg viewBox="0 0 32 24" width="10" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.8686 23.5286L0.46861 13.0688C-0.156203 12.4404 -0.156203 11.4215 0.46861 10.7931L2.7313 8.51731C3.35611 7.88884 4.36924 7.88884 4.99405 8.51731L12 15.5635L27.0059 0.471304C27.6308 -0.157101 28.6439 -0.157101 29.2687 0.471304L31.5314 2.74707C32.1562 3.37547 32.1562 4.39436 31.5314 5.02283L13.1314 23.5287C12.5065 24.1571 11.4934 24.1571 10.8686 23.5286Z"/>
                            </svg>
                        </div>
                    </div>
                    <p id="app-description-in-detail-modal" class="app-description">Asana is a collaborative information manager for workspace. It helps you
                        organize people and tasks effectively.</p>
                    <a id="app-domain-in-detail-modal" href="https://www.asana.com" target="_blank" class="app-website">https://www.asana.com</a>
                </div>
                <div class="app-connection">
                    <!-- 앱이 연동되지 않았을 때 -->
                    <div id="app-connect-btn" class="btn btn-primary btn-connect">Connect</div>
                    <!-- 앱이 연동 되었을 때 -->
                    <div id="app-disconnect-btn" class="btn btn-delete btn-disconnect">
                        Disconnect
                    </div>
                </div>
            </div>
            <div id="app-action-items" class="list-actions">
                <h3>Actions</h3>
                <div class="action-list">
                    <div class="item-action">
                        <div class="connected-app">
                            <div class="app-icon">
                                <img src="/images/ico-app-asana.svg" width="32" alt=""/>
                            </div>
                            <div class="app-name">A New Task</div>
                        </div>
                        <div class="buttons">
                            <div class="btn btn-add-shortcut" onclick="whenClickAddShortcutButton('app')">
                                Add to shortcut
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <header class="page-header">
        <a href="./index.html">
            <div class="page-header-brand logo">
                <img src="/images/logo.svg" alt="logo"/><span class="logo-title"
            >my.new</span
            >
            </div>
        </a>
        <div class="page-header-navi">
            <div class="page-header-navi-items">
                <button data-feedback-fish class="navi-item">
                    Give us feedbacks
                </button>
                <!-- 로그인 한 경우 data-feedback-fish-userid 를 attribute에 추가한다. -->
                <!-- <button data-feedback-fish data-feedback-fish-userid="유저아이디" class="navi-item">
                  Give us feedbacks
                  </button> -->
                <a href="" class="navi-item">Help</a>
                <!-- <div id="buttonProfile" class="btn">
                  <div
                    class="profile-picture"
                    style="
                    background-image: url('https://scontent-ssn1-1.xx.fbcdn.net/v/t1.0-9/54206195_10215651979390383_8676011474688147456_n.jpg?_nc_cat=102&ccb=2&_nc_sid=09cbfe&_nc_ohc=zBBJS_2mFecAX81-76o&_nc_oc=AQktoNXib5ZN64_zawv5HaIqIsIFJIAf6qnJMJzfU9VR1nA2MYwLZqLluxvmmw46MlU&_nc_ht=scontent-ssn1-1.xx&oh=d84f2f438799fc84e8a06736a44ecfe8&oe=5FE61D45');
                    width: 32px;
                    height: 32px;
                    border-radius: 6px;
                    background-size: cover;
                    box-shadow: inset 1px 1px rgba(0, 0, 0, 0.1);
                    "
                    ></div>
                  <span>
                  <img
                    src="/images/ico-chevron-down.svg"
                    alt="chevron"
                    width="12"
                    />
                  </span>
                </div> -->
                <a href="/s/logout">
                    <div id="buttonSignOut" class="btn">
                        <img src="/images/img-bye.png" width="16" alt=""/>
                        <span>Sign Out</span>
                    </div>
                </a>
            </div>
        </div>
    </header>
    <div class="page-body">

        <!-- 로딩 컴포넌트 -->
        <div class="loading hidden">
            <div class="progress-dots">
                <span class="circle circle-1"></span>
                <span class="circle circle-2"></span>
                <span class="circle circle-3"></span>
                <span class="circle circle-4"></span>
                <span class="circle circle-5"></span>
            </div>
        </div>
        <div class="section page-title">
            <h1>Shortcuts</h1>
        </div>
        <div class="section section-apps">
            <h2>Connected Apps</h2>
            <section id="connected-apps" class="list-apps">
                <div class="ico-app is-connected" th:each="connectedApp : ${dashBoardData.connectedApps}">
                    <img th:src="@{${'/images/' + connectedApp.appIcon}}"
                         th:title="@{${connectedApp.appName}}"
                         th:code="@{${connectedApp.appCode}}"
                         th:cid="@{${connectedApp.connectedId}}"
                         th:description="@{${connectedApp.description}}"
                         th:domain="@{${connectedApp.domain}}"
                         th:onclick="openConnectedAppDetailModal(this)"
                         width="48" alt=""/>
                </div>
                <div id="add-new-app-btn" class="btn add-new">
                    <img src="/images/ico-plus.svg" alt="add" width="16"/>
                </div>
            </section>

        </div>
        <div class="section section-shortcuts">
            <h2>My Shortcuts</h2>
            <!-- Shortcuts List -->
            <div class="list-shortcuts">
                <!-- 숏컷 목록에 추가된 앱 아이템 예시 -->
<!--                <div id="app-shortcut-item" class="item-shortcut">-->
<!--                    <div class="shortcut">-->
<!--                        <div class="shortcut-keyword" contenteditable="true"-->
<!--                             data-placeholder="New shortcut here..."></div>-->
<!--                        <div class="shortcut-url">-->
<!--                            <a id="hrefShortcutURL" href="https://my.new/" target="_blank" class="link-outer">-->
<!--                                <span><img src="/images/logo.svg" alt="outlink" width="12"/></span>-->
<!--                                <span>https://my.new/</span>-->
<!--                                <span id="printedShortcutURL" class="shortcut-url-with-keyword"></span>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="app">-->
<!--                        <div class="ico-arrow">-->
<!--                            <img src="/images/ico-arrow-right.svg" width="16" alt=""/>-->
<!--                        </div>-->
<!--                        <div class="connected-app">-->
<!--                            <div class="app-icon">-->
<!--                                <img src="/images/ico-app-asana.svg" width="42" alt=""/>-->
<!--                            </div>-->
<!--                            <div class="app-name">A New Task</div>-->
<!--                        </div>-->
<!--                        <div class="buttons">-->
<!--                            <div class="btn btn-save is-disabled" onclick="whenClickSaveItemButton('app')">-->
<!--                                <svg viewBox="0 0 32 24" width="16" xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path d="M10.8686 23.5286L0.46861 13.0688C-0.156203 12.4404 -0.156203 11.4215 0.46861 10.7931L2.7313 8.51731C3.35611 7.88884 4.36924 7.88884 4.99405 8.51731L12 15.5635L27.0059 0.471304C27.6308 -0.157101 28.6439 -0.157101 29.2687 0.471304L31.5314 2.74707C32.1562 3.37547 32.1562 4.39436 31.5314 5.02283L13.1314 23.5287C12.5065 24.1571 11.4934 24.1571 10.8686 23.5286Z"/>-->
<!--                                </svg>-->
<!--                            </div>-->
<!--                            <div class="btn btn-delete" onclick="whenClickDeleteItemButton('app')">-->
<!--                                <img src="/images/ico-trash.svg" width="16" alt="">-->
<!--                            </div>-->
<!--                            <div class="btn btn-edit" onclick="whenClickEditItemButton('app')"><img-->
<!--                                    src="/images/ico-pencil.svg" width="16" alt=""></div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
                <!-- 숏컷 목록 내 sibling 아이템 인터랙션 참고용. -->
<!--                <div class="item-shortcut hidden">-->
<!--                    <div class="shortcut">-->
<!--                        <div class="shortcut-keyword" contenteditable="false" data-placeholder="New shortcut here...">-->
<!--                            sibling-example-->
<!--                        </div>-->
<!--                        <div class="shortcut-url">-->
<!--                            <a href="https://my.new/repo" target="_blank" class="link-outer">-->
<!--                                <span><img src="/images/logo.svg" alt="outlink" width="12"/></span>-->
<!--                                <span>https://my.new/</span>-->
<!--                                <span class="shortcut-url-with-keyword">sibling-example</span>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="app">-->
<!--                        <div class="ico-arrow">-->
<!--                            <img src="/images/ico-arrow-right.svg" width="16" alt=""/>-->
<!--                        </div>-->
<!--                        <div class="connected-app">-->
<!--                            <div class="app-icon">-->
<!--                                <img src="/images/ico-app-github.svg" width="42" alt=""/>-->
<!--                            </div>-->
<!--                            <div class="app-name">A New Repository</div>-->
<!--                        </div>-->
<!--                        <div class="buttons">-->
<!--                            <div class="btn btn-save is-disabled">-->
<!--                                <svg viewBox="0 0 32 24" width="16" xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path d="M10.8686 23.5286L0.46861 13.0688C-0.156203 12.4404 -0.156203 11.4215 0.46861 10.7931L2.7313 8.51731C3.35611 7.88884 4.36924 7.88884 4.99405 8.51731L12 15.5635L27.0059 0.471304C27.6308 -0.157101 28.6439 -0.157101 29.2687 0.471304L31.5314 2.74707C32.1562 3.37547 32.1562 4.39436 31.5314 5.02283L13.1314 23.5287C12.5065 24.1571 11.4934 24.1571 10.8686 23.5286Z"/>-->
<!--                                </svg>-->
<!--                            </div>-->
<!--                            <div class="btn btn-delete">-->
<!--                                <img src="/images/ico-trash.svg" width="16" alt="">-->
<!--                            </div>-->
<!--                            <div class="btn btn-edit"><img src="/images/ico-pencil.svg" width="16" alt=""></div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                &lt;!&ndash; URLItem 상태: 아이템 수정 중 (저장 가능) &ndash;&gt;-->
<!--                <div id="urlShortcutItem" class="item-url-shortcut hidden">-->
<!--                    <div class="shortcut">-->
<!--                        <div class="shortcut-keyword" contenteditable="true"-->
<!--                             data-placeholder="New shortcut here..."></div>-->
<!--                        <div class="shortcut-url">-->
<!--                            <a href="#" target="_blank" class="link-outer">-->
<!--                                <span><img src="/images/logo.svg" alt="outlink" width="12"/></span>-->
<!--                                <span>https://my.new/</span>-->
<!--                                <span class="shortcut-url-with-keyword"></span>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="app">-->
<!--                        <div class="ico-arrow">-->
<!--                            <img src="/images/ico-arrow-right.svg" width="16" alt=""/>-->
<!--                        </div>-->
<!--                        <div class="connected-app">-->
<!--                            <div class="app-icon">-->
<!--                                <img src="/images/ico-link.svg" width="42" alt=""/>-->
<!--                            </div>-->
<!--                            <div class="app-url">-->
<!--                                <div class="app-name">A New URL Redirection</div>-->
<!--                                <div class="destination-url" contenteditable="true"-->
<!--                                     data-placeholder="Your URL here..."></div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="buttons">-->
<!--                            <div id="url-shortcut-save-btn" class="btn btn-save is-disabled">-->
<!--                                <svg viewBox="0 0 32 24" width="16" xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path d="M10.8686 23.5286L0.46861 13.0688C-0.156203 12.4404 -0.156203 11.4215 0.46861 10.7931L2.7313 8.51731C3.35611 7.88884 4.36924 7.88884 4.99405 8.51731L12 15.5635L27.0059 0.471304C27.6308 -0.157101 28.6439 -0.157101 29.2687 0.471304L31.5314 2.74707C32.1562 3.37547 32.1562 4.39436 31.5314 5.02283L13.1314 23.5287C12.5065 24.1571 11.4934 24.1571 10.8686 23.5286Z"/>-->
<!--                                </svg>-->
<!--                            </div>-->
<!--                            <div id="url-shortcut-delete-btn" class="btn btn-delete" onclick="whenClickDeleteItemButton('url')">-->
<!--                                <img src="/images/ico-trash.svg" width="16" alt="">-->
<!--                            </div>-->
<!--                            <div id="url-shortcut-edit-btn" class="btn btn-edit"><img-->
<!--                                    src="/images/ico-pencil.svg" width="16" alt=""></div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->

            </div>
            <!-- Shortcuts List 상태: Empty -->
            <div class="list-shortcuts-empty">
                <img src="/images/img-twinkle.png" alt=""/>
                <p>
                    There are no shortcuts you added.<br/>Let’s try to
                    <a href="#" onclick="togglePopup('appListPopup')">create your first shortcut</a> now.
                </p>
                <div class="content-columns">
                    <div class="column-3">
                        <div class="badge-number">1</div>
                        <div class="img-frame">
                            <img
                                    src="/images/img-howto01.svg"
                                    alt="connect an app"
                                    width="167"
                            />
                        </div>
                        <h4>
                            Connect an app
                        </h4>
                        <p>
                            Connect your favorite app. You can add the creating action of
                            the app to your dashboard.
                        </p>
                    </div>
                    <div class="column-3">
                        <div class="badge-number">2</div>
                        <div class="img-frame">
                            <img
                                    src="/images/img-howto02.svg"
                                    alt="set a shorcut"
                                    width="75"
                            />
                        </div>
                        <h4>
                            Set a shortcut
                        </h4>
                        <p>
                            Set a simple word for calling the action of the app you
                            connected by URL shortcut.
                        </p>
                    </div>
                    <div class="column-3">
                        <div class="badge-number">3</div>
                        <div class="img-frame">
                            <img
                                    src="/images/img-howto03.svg"
                                    alt="run a shortcut"
                                    width="180"
                            />
                        </div>
                        <h4>
                            Run your shortcut
                        </h4>
                        <p>
                            Type the URL shortcut (my.new/...) into the address bar of your
                            web browser.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <footer class="page-footer">
            <div class="page-footer-brand logo">
                <img src="/images/logo.svg" alt="logo"/><span class="logo-title"
            >my.new</span
            >
            </div>
            <ul>
                <li><a href="">Terms of Service</a></li>
                <li><a href="">Privacy Policy</a></li>
                <li><a href="">Contact Us</a></li>
            </ul>
        </footer>
    </div>
</div>
<script th:inline="javascript">
    window.connectedApps = JSON.parse('[[${dashBoardData.connectedApps}]]');
    window.urlRedirections =  JSON.parse('[[${dashBoardData.urlRedirections}]]');
    console.log(window.connectedApps);
    console.log(window.urlRedirections);
</script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/js/dashboard-link-shortcut.js"></script>
<script src="/js/dashboard-app-shortcut.js"></script>
<script src="/js/dashboard-event.js"></script>
<!-- 피드백 수집 툴 샘플 -->
<script
        defer
        src="https://feedback.fish/ff.js?pid=7540e1b055cb6a"
></script>
</body>
</html>